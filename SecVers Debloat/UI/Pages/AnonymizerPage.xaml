<Page x:Class="SecVers_Debloat.UI.Pages.AnonymizerPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:local="clr-namespace:SecVers_Debloat.UI.Pages"
      xmlns:ui="http://schemas.inkore.net/lib/ui/wpf/modern"
      xmlns:ikw="http://schemas.inkore.net/lib/ui/wpf"
      mc:Ignorable="d" 
      d:DesignHeight="600" d:DesignWidth="900"
      Title="AnonymizerPage">

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <StackPanel Grid.Row="0" Margin="0,0,0,20">
            <TextBlock Text="Identity Anonymizer" 
                       FontSize="28" 
                       FontWeight="Bold"/>
            <TextBlock Text="Spoof system identifiers to enhance privacy and reduce fingerprinting" 
                       FontSize="14" 
                       
                       Margin="0,5,0,0"/>

            <!-- Warning Box -->
            <Border Background="#FFFFD580" 
                    Padding="10" 
                    Margin="0,15,0,0"
                    CornerRadius="4"
                    BorderBrush="#FFAA6A00"
                    BorderThickness="1">
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="⚠️" FontSize="16" VerticalAlignment="Center"/>
                    <TextBlock Text="Caution: Changing HWIDs (GUIDs, Serials) may invalidate software licenses (e.g., Windows Activation, Games). Proceed with care." 
                               FontSize="13"
                               TextWrapping="Wrap"
                               Margin="10,0,0,0"
                               VerticalAlignment="Center"
                               Foreground="#FF5C3A00"/>
                </StackPanel>
            </Border>
        </StackPanel>

        <!-- Content Area -->
        <ScrollViewer Grid.Row="1" 
                      VerticalScrollBarVisibility="Auto"
                      HorizontalScrollBarVisibility="Disabled"
                      HorizontalContentAlignment="Stretch">
            <StackPanel>

                <!-- 1. Network Identity -->
                <Expander Style="{StaticResource {x:Static ui:ThemeKeys.ExpanderCardStyleKey}}"
                          Margin="0,0,0,10"
                          HorizontalAlignment="Stretch"
                         >
                    <Expander.Header>
                        <Grid HorizontalAlignment="Stretch" Background="Transparent">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>

                            <TextBlock Grid.Column="0" Text="🌐" FontSize="20" VerticalAlignment="Center" Margin="0,0,10,0"/>

                            <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                <TextBlock Text="Network Identity" FontWeight="Bold" FontSize="16"/>
                                <TextBlock Text="Hostname, MAC Addresses, Network Settings" FontSize="12"/>
                            </StackPanel>

                            <CheckBox Grid.Column="2" x:Name="NetworkAllCheckBox" Content="Select All" IsThreeState="True"
                                      VerticalAlignment="Center" Margin="10,0,0,0"
                                      Click="HeaderCheckBox_Click"/>
                        </Grid>
                    </Expander.Header>
                    <Expander.Content>
                        <StackPanel Margin="15,10,15,15">
                            <CheckBox x:Name="ChkRandomizeHostname" Content="Randomize Hostname / Computer Name" Margin="4" Tag="Network"/>
                            <CheckBox x:Name="ChkRandomizeMAC" Content="Randomize MAC Address (All Adapters)" Margin="4" Tag="Network"/>
                            <CheckBox x:Name="ChkDisableIPv6" Content="Disable IPv6 (Leak Protection)" Margin="4" Tag="Network"/>
                        </StackPanel>
                    </Expander.Content>
                </Expander>

                <!-- 2. Hardware IDs (Spoofing) -->
                <Expander Style="{StaticResource {x:Static ui:ThemeKeys.ExpanderCardStyleKey}}"
                          Margin="0,0,0,10"
                          HorizontalAlignment="Stretch"
                          IsExpanded="False">
                    <Expander.Header>
                        <Grid HorizontalAlignment="Stretch" Background="Transparent">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>

                            <TextBlock Grid.Column="0" Text="💻" FontSize="20" VerticalAlignment="Center" Margin="0,0,10,0"/>

                            <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                <TextBlock Text="Hardware Identifiers (HWID)" FontWeight="Bold" FontSize="16"/>
                                <TextBlock Text="Machine GUIDs, Serial Numbers, Product IDs" FontSize="12"/>
                            </StackPanel>

                            <CheckBox Grid.Column="2" x:Name="HwidAllCheckBox" Content="Select All" IsThreeState="True"
                                      VerticalAlignment="Center" Margin="10,0,0,0"
                                      Click="HeaderCheckBox_Click"/>
                        </Grid>
                    </Expander.Header>
                    <Expander.Content>
                        <StackPanel Margin="15,10,15,15">
                            <CheckBox x:Name="ChkRandomizeMachineGUID" Content="Randomize Machine GUID (Cryptography)" Margin="4" Tag="HWID"/>
                            <CheckBox x:Name="ChkRandomizeBaseboard" Content="Randomize Baseboard/Motherboard Serial" Margin="4" Tag="HWID"/>
                            <CheckBox x:Name="ChkSpoofProductInfo" Content="Spoof System Product Name &amp; Manufacturer" Margin="4" Tag="HWID"/>
                            <CheckBox x:Name="ChkRandomizeBIOS" Content="Randomize BIOS Serial Number" Margin="4" Tag="HWID"/>
                            <CheckBox x:Name="ChkRandomizeInstallID" Content="Randomize Windows Installation ID" Margin="4" Tag="HWID"/>
                            <CheckBox x:Name="ChkRandomizeProductID" Content="Randomize Windows Product ID" Margin="4" Tag="HWID"/>
                            <CheckBox x:Name="ChkSpoofGPU" Content="Spoof GPU Device ID (Registry)" Margin="4" Tag="HWID"/>
                        </StackPanel>
                    </Expander.Content>
                </Expander>

                <!-- 3. Storage Trace -->
                <Expander Style="{StaticResource {x:Static ui:ThemeKeys.ExpanderCardStyleKey}}"
                          Margin="0,0,0,10"
                          HorizontalAlignment="Stretch"
                          IsExpanded="False">
                    <Expander.Header>
                        <Grid HorizontalAlignment="Stretch" Background="Transparent">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>

                            <TextBlock Grid.Column="0" Text="💾" FontSize="20" VerticalAlignment="Center" Margin="0,0,10,0"/>

                            <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                <TextBlock Text="Storage &amp; Volume" FontWeight="Bold" FontSize="16"/>
                                <TextBlock Text="Disk Serials, Volume IDs" FontSize="12"/>
                            </StackPanel>

                            <CheckBox Grid.Column="2" x:Name="StorageAllCheckBox" Content="Select All" IsThreeState="True"
                                      VerticalAlignment="Center" Margin="10,0,0,0"
                                      Click="HeaderCheckBox_Click"/>
                        </Grid>
                    </Expander.Header>
                    <Expander.Content>
                        <StackPanel Margin="15,10,15,15">
                            <CheckBox x:Name="ChkSpoofDiskSerial" Content="Spoof Disk Serial Number (Registry)" Margin="4" Tag="Storage"/>
                            <CheckBox x:Name="ChkChangeVolumeSerial" Content="Change C: Volume Serial (Requires Reboot)" Margin="4" Tag="Storage"/>
                        </StackPanel>
                    </Expander.Content>
                </Expander>

                <!-- 4. Tracking & Ownership -->
                <Expander Style="{StaticResource {x:Static ui:ThemeKeys.ExpanderCardStyleKey}}"
                          Margin="0,0,0,10"
                          HorizontalAlignment="Stretch"
                          IsExpanded="False">
                    <Expander.Header>
                        <Grid HorizontalAlignment="Stretch" Background="Transparent">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>

                            <TextBlock Grid.Column="0" Text="🕵️" FontSize="20" VerticalAlignment="Center" Margin="0,0,10,0"/>

                            <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                <TextBlock Text="Tracking &amp; Registration" FontWeight="Bold" FontSize="16"/>
                                <TextBlock Text="Advertising IDs, Registered Owner, Install Date" FontSize="12"/>
                            </StackPanel>

                            <CheckBox Grid.Column="2" x:Name="TrackAllCheckBox" Content="Select All" IsThreeState="True"
                                      VerticalAlignment="Center" Margin="10,0,0,0"
                                      Click="HeaderCheckBox_Click"/>
                        </Grid>
                    </Expander.Header>
                    <Expander.Content>
                        <StackPanel Margin="15,10,15,15">
                            <CheckBox x:Name="ChkResetAdID" Content="Reset &amp; Clear Advertising ID" Margin="4" Tag="Track"/>
                            <CheckBox x:Name="ChkClearTelemetryID" Content="Clear Telemetry ID" Margin="4" Tag="Track"/>
                            <CheckBox x:Name="ChkRandomizeOwner" Content="Randomize Registered Owner &amp; Organization" Margin="4" Tag="Track"/>
                            <CheckBox x:Name="ChkRandomizeInstallDate" Content="Randomize Windows Install Date" Margin="4" Tag="Track"/>
                        </StackPanel>
                    </Expander.Content>
                </Expander>

            </StackPanel>
        </ScrollViewer>

        <!-- Action Buttons -->
        <Grid Grid.Row="2" Margin="0,20,0,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <!-- Status Text or Left Info -->
            <TextBlock Text="A restart is required after applying changes." 
                       VerticalAlignment="Center" 
                       Foreground="Gray" 
                       FontStyle="Italic"/>

            <StackPanel Grid.Column="1" Orientation="Horizontal">
                <Button x:Name="BtnAnonymizeAll"
                        Content="Anonymize Everything (Panic)"
                        Background="#FFD43B3B"
                        Foreground="White"
                        Margin="0,0,10,0"
                        Padding="15,10"
                        BorderThickness="0"
                        Click="BtnAnonymizeAll_Click">
                    <Button.Resources>
                        <Style TargetType="Border">
                            
                        </Style>
                    </Button.Resources>
                </Button>

                <Button x:Name="BtnApplySelected"
                        Content="Apply Selected Spoofing"
                        Padding="20,10"
                        Click="BtnApplySelected_Click"/>
            </StackPanel>
        </Grid>
    </Grid>
</Page>
